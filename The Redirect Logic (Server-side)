// Step 1: Generate the TikTok Auth URL
const generateAuthUrl = () => {
  const CLIENT_KEY = process.env.TIKTOK_CLIENT_KEY;
  const REDIRECT_URI = 'https://yourclone.com/api/auth/callback';
  const SCOPES = 'user.info.basic,video.list'; // Only what we need
  const STATE = Math.random().toString(36).substring(7); // Prevent CSRF
  
  return `https://www.tiktok.com/v2/auth/authorize/` +
         `?client_key=${CLIENT_KEY}` +
         `&scope=${SCOPES}` +
         `&response_type=code` +
         `&redirect_uri=${encodeURIComponent(REDIRECT_URI)}` +
         `&state=${STATE}`;
};
